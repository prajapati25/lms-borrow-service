2025-05-08 00:00:00,391 DEBUG c.b.b.s.BorrowService [scheduling-1] Running scheduled check for overdue borrows
2025-05-08 00:00:02,857 DEBUG c.b.b.s.BorrowService [scheduling-1] Found 0 overdue borrows
2025-05-08 00:08:53,954 INFO o.s.b.w.e.t.GracefulShutdown [SpringApplicationShutdownHook] Commencing graceful shutdown. Waiting for active requests to complete
2025-05-08 00:08:54,260 INFO o.s.b.w.e.t.GracefulShutdown [tomcat-shutdown] Graceful shutdown complete
2025-05-08 00:08:54,505 INFO o.s.o.j.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-08 00:08:54,624 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] BorrowServiceHikariPool - Shutdown initiated...
2025-05-08 00:08:54,677 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] BorrowServiceHikariPool - Shutdown completed.
2025-05-08 00:09:08,800 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.2.Final
2025-05-08 00:09:08,892 INFO o.s.b.StartupInfoLogger [main] Starting BorrowServiceApplication using Java 17.0.4.1 with PID 25368 (C:\Users\PRAJAPATI\Downloads\borrow-service\borrow-service\target\classes started by PRAJAPATI in C:\Users\PRAJAPATI\Downloads\borrow-service\borrow-service)
2025-05-08 00:09:08,893 DEBUG o.s.b.StartupInfoLogger [main] Running with Spring Boot v3.4.5, Spring v6.2.6
2025-05-08 00:09:08,895 INFO o.s.b.SpringApplication [main] The following 1 profile is active: "dev"
2025-05-08 00:09:11,310 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-08 00:09:11,412 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 87 ms. Found 4 JPA repository interfaces.
2025-05-08 00:09:12,923 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port 8082 (http)
2025-05-08 00:09:12,940 INFO o.a.j.l.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8082"]
2025-05-08 00:09:12,942 INFO o.a.j.l.DirectJDKLog [main] Starting service [Tomcat]
2025-05-08 00:09:12,943 INFO o.a.j.l.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-05-08 00:09:13,024 INFO o.a.j.l.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2025-05-08 00:09:13,025 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 4042 ms
2025-05-08 00:09:13,387 DEBUG c.b.b.c.RestTemplateConfig [main] Creating RestTemplate for User Service with timeout: 5000ms
2025-05-08 00:09:13,724 DEBUG o.s.w.f.GenericFilterBean [main] Filter 'jwtAuthenticationFilter' configured for use
2025-05-08 00:09:14,024 INFO c.z.h.HikariDataSource [main] BorrowServiceHikariPool - Starting...
2025-05-08 00:09:14,894 INFO c.z.h.p.HikariPool [main] BorrowServiceHikariPool - Added connection org.postgresql.jdbc.PgConnection@280c3dc0
2025-05-08 00:09:14,897 INFO c.z.h.HikariDataSource [main] BorrowServiceHikariPool - Start completed.
2025-05-08 00:09:14,951 INFO o.f.c.i.l.s.Slf4jLog [main] Database: jdbc:postgresql://localhost:5432/borrowdb (PostgreSQL 15.12)
2025-05-08 00:09:15,934 INFO o.f.c.i.l.s.Slf4jLog [main] Successfully validated 2 migrations (execution time 00:00.801s)
2025-05-08 00:09:17,321 INFO o.f.c.i.l.s.Slf4jLog [main] Current version of schema "public": 1
2025-05-08 00:09:17,429 INFO o.f.c.i.l.s.Slf4jLog [main] Schema "public" is up to date. No migration necessary.
2025-05-08 00:09:17,851 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-08 00:09:17,985 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.6.13.Final
2025-05-08 00:09:18,101 INFO o.h.c.i.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
2025-05-08 00:09:18,719 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-08 00:09:18,853 WARN o.h.e.j.d.i.DialectFactoryImpl [main] HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-08 00:09:18,888 INFO o.h.e.j.e.i.JdbcEnvironmentInitiator [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (BorrowServiceHikariPool)']
	Database driver: undefined/unknown
	Database version: 15.12
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-08 00:09:20,392 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-08 00:09:25,163 INFO o.s.o.j.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-08 00:09:25,870 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-08 00:09:26,899 DEBUG c.b.b.c.RestTemplateConfig [main] Creating RestTemplate for Book Service with timeout: 5000ms
2025-05-08 00:09:27,617 INFO o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer [main] Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-05-08 00:09:29,197 INFO o.s.b.a.e.w.EndpointLinksResolver [main] Exposing 2 endpoints beneath base path '/actuator'
2025-05-08 00:09:42,064 INFO o.a.k.c.c.AbstractConfig [main] AdminClientConfig values: 
	auto.include.jmx.reporter = true
	bootstrap.controllers = []
	bootstrap.servers = [localhost:29092]
	client.dns.lookup = use_all_dns_ips
	client.id = borrow-service-admin-0
	connections.max.idle.ms = 300000
	default.api.timeout.ms = 60000
	enable.metrics.push = true
	metadata.max.age.ms = 300000
	metadata.recovery.strategy = none
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.max.ms = 1000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.3]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.3
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS

2025-05-08 00:09:42,221 INFO o.a.k.c.u.AppInfoParser$AppInfo [main] Kafka version: 3.8.1
2025-05-08 00:09:42,222 INFO o.a.k.c.u.AppInfoParser$AppInfo [main] Kafka commitId: 70d6ff42debf7e17
2025-05-08 00:09:42,222 INFO o.a.k.c.u.AppInfoParser$AppInfo [main] Kafka startTimeMs: 1746643182219
2025-05-08 00:09:43,102 INFO o.a.k.c.u.AppInfoParser [kafka-admin-client-thread | borrow-service-admin-0] App info kafka.admin.client for borrow-service-admin-0 unregistered
2025-05-08 00:09:43,108 INFO o.a.k.c.m.Metrics [kafka-admin-client-thread | borrow-service-admin-0] Metrics scheduler closed
2025-05-08 00:09:43,109 INFO o.a.k.c.m.Metrics [kafka-admin-client-thread | borrow-service-admin-0] Closing reporter org.apache.kafka.common.metrics.JmxReporter
2025-05-08 00:09:43,109 INFO o.a.k.c.m.Metrics [kafka-admin-client-thread | borrow-service-admin-0] Metrics reporters closed
2025-05-08 00:09:43,190 INFO o.a.j.l.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8082"]
2025-05-08 00:09:43,214 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port 8082 (http) with context path '/api'
2025-05-08 00:09:43,253 INFO o.s.b.StartupInfoLogger [main] Started BorrowServiceApplication in 35.552 seconds (process running for 37.947)
2025-05-08 00:09:43,561 INFO o.a.j.l.DirectJDKLog [RMI TCP Connection(1)-192.168.1.9] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-08 00:09:43,562 INFO o.s.w.s.FrameworkServlet [RMI TCP Connection(1)-192.168.1.9] Initializing Servlet 'dispatcherServlet'
2025-05-08 00:09:43,564 INFO o.s.w.s.FrameworkServlet [RMI TCP Connection(1)-192.168.1.9] Completed initialization in 2 ms
2025-05-08 09:46:02,560 WARN c.z.h.p.HikariPool$HouseKeeper [BorrowServiceHikariPool housekeeper] BorrowServiceHikariPool - Thread starvation or clock leap detected (housekeeper delta=9h34m49s167ms230µs200ns).
2025-05-08 10:06:40,607 WARN c.z.h.p.HikariPool$HouseKeeper [BorrowServiceHikariPool housekeeper] BorrowServiceHikariPool - Thread starvation or clock leap detected (housekeeper delta=17m31s772ms975µs500ns).
2025-05-08 10:07:19,863 DEBUG c.b.b.s.BorrowService [scheduling-1] Running scheduled check for overdue borrows
2025-05-08 10:07:20,014 INFO o.s.b.w.e.t.GracefulShutdown [SpringApplicationShutdownHook] Commencing graceful shutdown. Waiting for active requests to complete
2025-05-08 10:07:20,650 INFO o.s.b.w.e.t.GracefulShutdown [tomcat-shutdown] Graceful shutdown complete
2025-05-08 10:07:22,483 DEBUG c.b.b.s.BorrowService [scheduling-1] Found 0 overdue borrows
2025-05-08 10:07:22,674 INFO o.s.o.j.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-08 10:07:22,826 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] BorrowServiceHikariPool - Shutdown initiated...
2025-05-08 10:07:22,849 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] BorrowServiceHikariPool - Shutdown completed.
2025-05-08 10:39:29,909 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.2.Final
2025-05-08 10:39:30,153 INFO o.s.b.StartupInfoLogger [main] Starting BorrowServiceApplication using Java 17.0.4.1 with PID 13124 (C:\Users\PRAJAPATI\Downloads\borrow-service\borrow-service\target\classes started by PRAJAPATI in C:\Users\PRAJAPATI\Downloads\borrow-service\borrow-service)
2025-05-08 10:39:30,156 DEBUG o.s.b.StartupInfoLogger [main] Running with Spring Boot v3.4.5, Spring v6.2.6
2025-05-08 10:39:30,159 INFO o.s.b.SpringApplication [main] The following 1 profile is active: "dev"
2025-05-08 10:39:35,208 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-08 10:39:35,556 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 301 ms. Found 4 JPA repository interfaces.
2025-05-08 10:39:40,059 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port 8082 (http)
2025-05-08 10:39:40,120 INFO o.a.j.l.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8082"]
2025-05-08 10:39:40,130 INFO o.a.j.l.DirectJDKLog [main] Starting service [Tomcat]
2025-05-08 10:39:40,132 INFO o.a.j.l.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-05-08 10:39:40,400 INFO o.a.j.l.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2025-05-08 10:39:40,404 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 10071 ms
2025-05-08 10:39:41,203 DEBUG c.b.b.c.RestTemplateConfig [main] Creating RestTemplate for User Service with timeout: 5000ms
2025-05-08 10:39:42,239 DEBUG o.s.w.f.GenericFilterBean [main] Filter 'jwtAuthenticationFilter' configured for use
2025-05-08 10:39:43,157 INFO c.z.h.HikariDataSource [main] BorrowServiceHikariPool - Starting...
2025-05-08 10:39:49,356 INFO c.z.h.HikariDataSource [main] BorrowServiceHikariPool - Starting...
2025-05-08 10:39:49,766 INFO c.z.h.p.HikariPool [main] BorrowServiceHikariPool - Added connection org.postgresql.jdbc.PgConnection@2e1e7bc6
2025-05-08 10:39:49,770 INFO c.z.h.HikariDataSource [main] BorrowServiceHikariPool - Start completed.
2025-05-08 10:39:49,848 INFO o.f.c.i.l.s.Slf4jLog [main] Database: jdbc:postgresql://localhost:5432/borrowdb (PostgreSQL 15.12)
2025-05-08 10:39:50,228 INFO o.f.c.i.l.s.Slf4jLog [main] Successfully validated 2 migrations (execution time 00:00.107s)
2025-05-08 10:39:50,296 INFO o.f.c.i.l.s.Slf4jLog [main] Current version of schema "public": 1
2025-05-08 10:39:50,310 INFO o.f.c.i.l.s.Slf4jLog [main] Schema "public" is up to date. No migration necessary.
2025-05-08 10:39:50,674 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-08 10:39:50,911 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.6.13.Final
2025-05-08 10:39:51,045 INFO o.h.c.i.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
2025-05-08 10:39:52,224 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-08 10:39:52,607 WARN o.h.e.j.d.i.DialectFactoryImpl [main] HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-08 10:39:52,746 INFO o.h.e.j.e.i.JdbcEnvironmentInitiator [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (BorrowServiceHikariPool)']
	Database driver: undefined/unknown
	Database version: 15.12
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-08 10:39:55,961 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-08 10:39:56,947 INFO o.s.o.j.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-08 10:39:58,371 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-08 10:39:59,800 DEBUG c.b.b.c.RestTemplateConfig [main] Creating RestTemplate for Book Service with timeout: 5000ms
2025-05-08 10:40:01,272 INFO o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer [main] Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-05-08 10:40:04,213 INFO o.s.b.a.e.w.EndpointLinksResolver [main] Exposing 2 endpoints beneath base path '/actuator'
2025-05-08 10:43:04,790 WARN c.z.h.p.HikariPool$HouseKeeper [BorrowServiceHikariPool housekeeper] BorrowServiceHikariPool - Thread starvation or clock leap detected (housekeeper delta=3m14s880ms924µs400ns).
2025-05-08 10:43:11,666 INFO o.a.k.c.c.AbstractConfig [main] AdminClientConfig values: 
	auto.include.jmx.reporter = true
	bootstrap.controllers = []
	bootstrap.servers = [localhost:29092]
	client.dns.lookup = use_all_dns_ips
	client.id = borrow-service-admin-0
	connections.max.idle.ms = 300000
	default.api.timeout.ms = 60000
	enable.metrics.push = true
	metadata.max.age.ms = 300000
	metadata.recovery.strategy = none
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.max.ms = 1000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.3]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.3
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS

2025-05-08 10:43:11,853 INFO o.a.k.c.u.AppInfoParser$AppInfo [main] Kafka version: 3.8.1
2025-05-08 10:43:11,853 INFO o.a.k.c.u.AppInfoParser$AppInfo [main] Kafka commitId: 70d6ff42debf7e17
2025-05-08 10:43:11,853 INFO o.a.k.c.u.AppInfoParser$AppInfo [main] Kafka startTimeMs: 1746681191849
2025-05-08 10:43:13,006 INFO o.a.k.c.u.AppInfoParser [kafka-admin-client-thread | borrow-service-admin-0] App info kafka.admin.client for borrow-service-admin-0 unregistered
2025-05-08 10:43:13,019 INFO o.a.k.c.m.Metrics [kafka-admin-client-thread | borrow-service-admin-0] Metrics scheduler closed
2025-05-08 10:43:13,020 INFO o.a.k.c.m.Metrics [kafka-admin-client-thread | borrow-service-admin-0] Closing reporter org.apache.kafka.common.metrics.JmxReporter
2025-05-08 10:43:13,021 INFO o.a.k.c.m.Metrics [kafka-admin-client-thread | borrow-service-admin-0] Metrics reporters closed
2025-05-08 10:43:13,249 INFO o.a.j.l.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8082"]
2025-05-08 10:43:13,296 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port 8082 (http) with context path '/api'
2025-05-08 10:43:13,368 INFO o.s.b.StartupInfoLogger [main] Started BorrowServiceApplication in 225.523 seconds (process running for 230.146)
2025-05-08 10:43:13,946 INFO o.a.j.l.DirectJDKLog [RMI TCP Connection(1)-192.168.1.9] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-08 10:43:13,947 INFO o.s.w.s.FrameworkServlet [RMI TCP Connection(1)-192.168.1.9] Initializing Servlet 'dispatcherServlet'
2025-05-08 10:43:13,954 INFO o.s.w.s.FrameworkServlet [RMI TCP Connection(1)-192.168.1.9] Completed initialization in 7 ms
2025-05-08 10:52:11,918 WARN c.z.h.p.HikariPool$HouseKeeper [BorrowServiceHikariPool housekeeper] BorrowServiceHikariPool - Thread starvation or clock leap detected (housekeeper delta=7m36s981ms265µs900ns).
2025-05-08 10:52:17,136 INFO o.s.b.w.e.t.GracefulShutdown [SpringApplicationShutdownHook] Commencing graceful shutdown. Waiting for active requests to complete
2025-05-08 10:52:17,449 INFO o.s.b.w.e.t.GracefulShutdown [tomcat-shutdown] Graceful shutdown complete
2025-05-08 10:52:17,636 INFO o.s.o.j.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-08 10:52:17,736 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] BorrowServiceHikariPool - Shutdown initiated...
2025-05-08 10:52:17,777 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] BorrowServiceHikariPool - Shutdown completed.
2025-05-08 10:52:24,694 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.2.Final
2025-05-08 10:52:24,791 INFO o.s.b.StartupInfoLogger [main] Starting BorrowServiceApplication using Java 17.0.4.1 with PID 8284 (C:\Users\PRAJAPATI\Downloads\borrow-service\borrow-service\target\classes started by PRAJAPATI in C:\Users\PRAJAPATI\Downloads\borrow-service\borrow-service)
2025-05-08 10:52:24,792 DEBUG o.s.b.StartupInfoLogger [main] Running with Spring Boot v3.4.5, Spring v6.2.6
2025-05-08 10:52:24,794 INFO o.s.b.SpringApplication [main] The following 1 profile is active: "dev"
2025-05-08 10:52:26,639 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-08 10:52:26,740 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 87 ms. Found 4 JPA repository interfaces.
2025-05-08 10:52:27,903 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port 8082 (http)
2025-05-08 10:52:27,916 INFO o.a.j.l.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8082"]
2025-05-08 10:52:27,918 INFO o.a.j.l.DirectJDKLog [main] Starting service [Tomcat]
2025-05-08 10:52:27,919 INFO o.a.j.l.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-05-08 10:52:27,985 INFO o.a.j.l.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2025-05-08 10:52:27,985 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3078 ms
2025-05-08 10:52:28,256 DEBUG c.b.b.c.RestTemplateConfig [main] Creating RestTemplate for User Service with timeout: 5000ms
2025-05-08 10:52:28,496 DEBUG o.s.w.f.GenericFilterBean [main] Filter 'jwtAuthenticationFilter' configured for use
2025-05-08 10:52:28,787 INFO c.z.h.HikariDataSource [main] BorrowServiceHikariPool - Starting...
2025-05-08 10:52:29,101 INFO c.z.h.p.HikariPool [main] BorrowServiceHikariPool - Added connection org.postgresql.jdbc.PgConnection@185bf6e0
2025-05-08 10:52:29,103 INFO c.z.h.HikariDataSource [main] BorrowServiceHikariPool - Start completed.
2025-05-08 10:52:29,142 INFO o.f.c.i.l.s.Slf4jLog [main] Database: jdbc:postgresql://localhost:5432/borrowdb (PostgreSQL 15.12)
2025-05-08 10:52:29,265 INFO o.f.c.i.l.s.Slf4jLog [main] Successfully validated 2 migrations (execution time 00:00.055s)
2025-05-08 10:52:34,306 INFO o.f.c.i.l.s.Slf4jLog [main] Current version of schema "public": 1
2025-05-08 10:52:34,316 INFO o.f.c.i.l.s.Slf4jLog [main] Schema "public" is up to date. No migration necessary.
2025-05-08 10:52:34,464 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-08 10:52:34,541 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.6.13.Final
2025-05-08 10:52:34,585 INFO o.h.c.i.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
2025-05-08 10:52:34,887 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-08 10:52:34,962 WARN o.h.e.j.d.i.DialectFactoryImpl [main] HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-08 10:52:34,988 INFO o.h.e.j.e.i.JdbcEnvironmentInitiator [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (BorrowServiceHikariPool)']
	Database driver: undefined/unknown
	Database version: 15.12
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-08 10:52:35,950 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-08 10:52:37,882 INFO o.s.o.j.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-08 10:52:38,226 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-08 10:52:38,918 DEBUG c.b.b.c.RestTemplateConfig [main] Creating RestTemplate for Book Service with timeout: 5000ms
2025-05-08 10:52:39,411 INFO o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer [main] Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-05-08 10:52:40,429 INFO o.s.b.a.e.w.EndpointLinksResolver [main] Exposing 2 endpoints beneath base path '/actuator'
2025-05-08 10:52:51,996 INFO o.a.k.c.c.AbstractConfig [main] AdminClientConfig values: 
	auto.include.jmx.reporter = true
	bootstrap.controllers = []
	bootstrap.servers = [localhost:29092]
	client.dns.lookup = use_all_dns_ips
	client.id = borrow-service-admin-0
	connections.max.idle.ms = 300000
	default.api.timeout.ms = 60000
	enable.metrics.push = true
	metadata.max.age.ms = 300000
	metadata.recovery.strategy = none
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.max.ms = 1000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.3]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.3
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS

2025-05-08 10:52:52,168 INFO o.a.k.c.u.AppInfoParser$AppInfo [main] Kafka version: 3.8.1
2025-05-08 10:52:52,169 INFO o.a.k.c.u.AppInfoParser$AppInfo [main] Kafka commitId: 70d6ff42debf7e17
2025-05-08 10:52:52,169 INFO o.a.k.c.u.AppInfoParser$AppInfo [main] Kafka startTimeMs: 1746681772164
2025-05-08 10:52:52,908 INFO o.a.k.c.u.AppInfoParser [kafka-admin-client-thread | borrow-service-admin-0] App info kafka.admin.client for borrow-service-admin-0 unregistered
2025-05-08 10:52:52,918 INFO o.a.k.c.m.Metrics [kafka-admin-client-thread | borrow-service-admin-0] Metrics scheduler closed
2025-05-08 10:52:52,919 INFO o.a.k.c.m.Metrics [kafka-admin-client-thread | borrow-service-admin-0] Closing reporter org.apache.kafka.common.metrics.JmxReporter
2025-05-08 10:52:52,920 INFO o.a.k.c.m.Metrics [kafka-admin-client-thread | borrow-service-admin-0] Metrics reporters closed
2025-05-08 10:52:52,990 INFO o.a.j.l.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8082"]
2025-05-08 10:52:53,015 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port 8082 (http) with context path '/api'
2025-05-08 10:52:53,051 INFO o.s.b.StartupInfoLogger [main] Started BorrowServiceApplication in 29.066 seconds (process running for 30.421)
2025-05-08 10:52:53,736 INFO o.a.j.l.DirectJDKLog [RMI TCP Connection(1)-192.168.1.9] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-08 10:52:53,738 INFO o.s.w.s.FrameworkServlet [RMI TCP Connection(1)-192.168.1.9] Initializing Servlet 'dispatcherServlet'
2025-05-08 10:52:53,740 INFO o.s.w.s.FrameworkServlet [RMI TCP Connection(1)-192.168.1.9] Completed initialization in 2 ms
2025-05-08 11:00:00,620 DEBUG c.b.b.s.BorrowService [scheduling-1] Running scheduled check for overdue borrows
2025-05-08 11:00:03,247 DEBUG c.b.b.s.BorrowService [scheduling-1] Found 0 overdue borrows
2025-05-08 11:05:43,441 INFO o.s.b.w.e.t.GracefulShutdown [SpringApplicationShutdownHook] Commencing graceful shutdown. Waiting for active requests to complete
2025-05-08 11:05:43,664 INFO o.s.b.w.e.t.GracefulShutdown [tomcat-shutdown] Graceful shutdown complete
2025-05-08 11:05:43,864 INFO o.s.o.j.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-08 11:05:43,917 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] BorrowServiceHikariPool - Shutdown initiated...
2025-05-08 11:05:43,939 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] BorrowServiceHikariPool - Shutdown completed.
2025-05-08 11:05:52,104 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.2.Final
2025-05-08 11:05:52,205 INFO o.s.b.StartupInfoLogger [main] Starting BorrowServiceApplication using Java 17.0.4.1 with PID 2920 (C:\Users\PRAJAPATI\Downloads\borrow-service\borrow-service\target\classes started by PRAJAPATI in C:\Users\PRAJAPATI\Downloads\borrow-service\borrow-service)
2025-05-08 11:05:52,207 DEBUG o.s.b.StartupInfoLogger [main] Running with Spring Boot v3.4.5, Spring v6.2.6
2025-05-08 11:05:52,207 INFO o.s.b.SpringApplication [main] The following 1 profile is active: "dev"
2025-05-08 11:05:54,574 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-08 11:05:54,743 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 147 ms. Found 4 JPA repository interfaces.
2025-05-08 11:05:56,504 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port 8082 (http)
2025-05-08 11:05:56,531 INFO o.a.j.l.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8082"]
2025-05-08 11:05:56,533 INFO o.a.j.l.DirectJDKLog [main] Starting service [Tomcat]
2025-05-08 11:05:56,534 INFO o.a.j.l.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-05-08 11:05:56,621 INFO o.a.j.l.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2025-05-08 11:05:56,622 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 4289 ms
2025-05-08 11:05:57,022 DEBUG c.b.b.c.RestTemplateConfig [main] Creating RestTemplate for User Service with timeout: 5000ms
2025-05-08 11:05:57,401 DEBUG o.s.w.f.GenericFilterBean [main] Filter 'jwtAuthenticationFilter' configured for use
2025-05-08 11:05:57,805 INFO c.z.h.HikariDataSource [main] BorrowServiceHikariPool - Starting...
2025-05-08 11:06:03,885 INFO c.z.h.HikariDataSource [main] BorrowServiceHikariPool - Starting...
2025-05-08 11:06:04,114 INFO c.z.h.p.HikariPool [main] BorrowServiceHikariPool - Added connection org.postgresql.jdbc.PgConnection@143fe09c
2025-05-08 11:06:04,116 INFO c.z.h.HikariDataSource [main] BorrowServiceHikariPool - Start completed.
2025-05-08 11:06:04,144 INFO o.f.c.i.l.s.Slf4jLog [main] Database: jdbc:postgresql://localhost:5432/borrowdb (PostgreSQL 15.12)
2025-05-08 11:06:04,283 INFO o.f.c.i.l.s.Slf4jLog [main] Successfully validated 2 migrations (execution time 00:00.077s)
2025-05-08 11:06:04,332 INFO o.f.c.i.l.s.Slf4jLog [main] Current version of schema "public": 1
2025-05-08 11:06:04,345 INFO o.f.c.i.l.s.Slf4jLog [main] Schema "public" is up to date. No migration necessary.
2025-05-08 11:06:04,478 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-08 11:06:04,542 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.6.13.Final
2025-05-08 11:06:04,599 INFO o.h.c.i.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
2025-05-08 11:06:04,899 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-08 11:06:04,978 WARN o.h.e.j.d.i.DialectFactoryImpl [main] HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-08 11:06:05,004 INFO o.h.e.j.e.i.JdbcEnvironmentInitiator [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (BorrowServiceHikariPool)']
	Database driver: undefined/unknown
	Database version: 15.12
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-08 11:06:06,028 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-08 11:06:07,585 INFO o.s.o.j.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-08 11:06:07,954 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-08 11:06:08,566 DEBUG c.b.b.c.RestTemplateConfig [main] Creating RestTemplate for Book Service with timeout: 5000ms
2025-05-08 11:06:08,965 INFO o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer [main] Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-05-08 11:06:09,796 INFO o.s.b.a.e.w.EndpointLinksResolver [main] Exposing 2 endpoints beneath base path '/actuator'
2025-05-08 11:06:41,714 INFO o.a.k.c.c.AbstractConfig [main] AdminClientConfig values: 
	auto.include.jmx.reporter = true
	bootstrap.controllers = []
	bootstrap.servers = [localhost:29092]
	client.dns.lookup = use_all_dns_ips
	client.id = borrow-service-admin-0
	connections.max.idle.ms = 300000
	default.api.timeout.ms = 60000
	enable.metrics.push = true
	metadata.max.age.ms = 300000
	metadata.recovery.strategy = none
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.max.ms = 1000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.3]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.3
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS

2025-05-08 11:06:41,798 INFO o.a.k.c.u.AppInfoParser$AppInfo [main] Kafka version: 3.8.1
2025-05-08 11:06:41,798 INFO o.a.k.c.u.AppInfoParser$AppInfo [main] Kafka commitId: 70d6ff42debf7e17
2025-05-08 11:06:41,798 INFO o.a.k.c.u.AppInfoParser$AppInfo [main] Kafka startTimeMs: 1746682601797
2025-05-08 11:06:42,349 INFO o.a.k.c.u.AppInfoParser [kafka-admin-client-thread | borrow-service-admin-0] App info kafka.admin.client for borrow-service-admin-0 unregistered
2025-05-08 11:06:42,353 INFO o.a.k.c.m.Metrics [kafka-admin-client-thread | borrow-service-admin-0] Metrics scheduler closed
2025-05-08 11:06:42,354 INFO o.a.k.c.m.Metrics [kafka-admin-client-thread | borrow-service-admin-0] Closing reporter org.apache.kafka.common.metrics.JmxReporter
2025-05-08 11:06:42,354 INFO o.a.k.c.m.Metrics [kafka-admin-client-thread | borrow-service-admin-0] Metrics reporters closed
2025-05-08 11:06:42,414 INFO o.a.j.l.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8082"]
2025-05-08 11:06:42,429 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port 8082 (http) with context path '/api'
2025-05-08 11:06:42,467 INFO o.s.b.StartupInfoLogger [main] Started BorrowServiceApplication in 51.16 seconds (process running for 52.603)
2025-05-08 11:06:43,049 INFO o.a.j.l.DirectJDKLog [RMI TCP Connection(4)-192.168.1.9] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-08 11:06:43,050 INFO o.s.w.s.FrameworkServlet [RMI TCP Connection(4)-192.168.1.9] Initializing Servlet 'dispatcherServlet'
2025-05-08 11:06:43,054 INFO o.s.w.s.FrameworkServlet [RMI TCP Connection(4)-192.168.1.9] Completed initialization in 4 ms
2025-05-08 11:11:46,180 INFO o.s.b.w.e.t.GracefulShutdown [SpringApplicationShutdownHook] Commencing graceful shutdown. Waiting for active requests to complete
2025-05-08 11:11:46,432 INFO o.s.b.w.e.t.GracefulShutdown [tomcat-shutdown] Graceful shutdown complete
2025-05-08 11:11:46,619 INFO o.s.o.j.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-08 11:11:46,718 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] BorrowServiceHikariPool - Shutdown initiated...
2025-05-08 11:11:46,765 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] BorrowServiceHikariPool - Shutdown completed.
2025-05-08 11:11:55,095 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.2.Final
2025-05-08 11:11:55,188 INFO o.s.b.StartupInfoLogger [main] Starting BorrowServiceApplication using Java 17.0.4.1 with PID 8556 (C:\Users\PRAJAPATI\Downloads\borrow-service\borrow-service\target\classes started by PRAJAPATI in C:\Users\PRAJAPATI\Downloads\borrow-service\borrow-service)
2025-05-08 11:11:55,189 DEBUG o.s.b.StartupInfoLogger [main] Running with Spring Boot v3.4.5, Spring v6.2.6
2025-05-08 11:11:55,190 INFO o.s.b.SpringApplication [main] The following 1 profile is active: "dev"
2025-05-08 11:11:57,098 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-08 11:11:57,172 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 63 ms. Found 4 JPA repository interfaces.
2025-05-08 11:11:58,403 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port 8082 (http)
2025-05-08 11:11:58,417 INFO o.a.j.l.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8082"]
2025-05-08 11:11:58,418 INFO o.a.j.l.DirectJDKLog [main] Starting service [Tomcat]
2025-05-08 11:11:58,420 INFO o.a.j.l.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-05-08 11:11:58,487 INFO o.a.j.l.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2025-05-08 11:11:58,488 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3205 ms
2025-05-08 11:11:58,820 DEBUG c.b.b.c.RestTemplateConfig [main] Creating RestTemplate for User Service with timeout: 5000ms
2025-05-08 11:11:59,072 DEBUG o.s.w.f.GenericFilterBean [main] Filter 'jwtAuthenticationFilter' configured for use
2025-05-08 11:11:59,372 INFO c.z.h.HikariDataSource [main] BorrowServiceHikariPool - Starting...
2025-05-08 11:11:59,654 INFO c.z.h.p.HikariPool [main] BorrowServiceHikariPool - Added connection org.postgresql.jdbc.PgConnection@6958d5d0
2025-05-08 11:11:59,656 INFO c.z.h.HikariDataSource [main] BorrowServiceHikariPool - Start completed.
2025-05-08 11:11:59,693 INFO o.f.c.i.l.s.Slf4jLog [main] Database: jdbc:postgresql://localhost:5432/borrowdb (PostgreSQL 15.12)
2025-05-08 11:11:59,812 INFO o.f.c.i.l.s.Slf4jLog [main] Successfully validated 2 migrations (execution time 00:00.057s)
2025-05-08 11:12:04,843 INFO o.f.c.i.l.s.Slf4jLog [main] Current version of schema "public": 1
2025-05-08 11:12:04,851 INFO o.f.c.i.l.s.Slf4jLog [main] Schema "public" is up to date. No migration necessary.
2025-05-08 11:12:04,994 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-08 11:12:05,082 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.6.13.Final
2025-05-08 11:12:05,125 INFO o.h.c.i.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
2025-05-08 11:12:05,428 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-08 11:12:05,504 WARN o.h.e.j.d.i.DialectFactoryImpl [main] HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-08 11:12:05,529 INFO o.h.e.j.e.i.JdbcEnvironmentInitiator [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (BorrowServiceHikariPool)']
	Database driver: undefined/unknown
	Database version: 15.12
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-08 11:12:06,544 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-08 11:12:07,667 INFO o.s.o.j.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-08 11:12:08,035 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-08 11:12:08,605 DEBUG c.b.b.c.RestTemplateConfig [main] Creating RestTemplate for Book Service with timeout: 5000ms
2025-05-08 11:12:09,056 INFO o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer [main] Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-05-08 11:12:09,892 INFO o.s.b.a.e.w.EndpointLinksResolver [main] Exposing 2 endpoints beneath base path '/actuator'
2025-05-08 11:13:18,439 WARN c.z.h.p.HikariPool$HouseKeeper [BorrowServiceHikariPool housekeeper] BorrowServiceHikariPool - Thread starvation or clock leap detected (housekeeper delta=1m18s670ms17µs300ns).
2025-05-08 11:13:20,447 INFO o.a.k.c.c.AbstractConfig [main] AdminClientConfig values: 
	auto.include.jmx.reporter = true
	bootstrap.controllers = []
	bootstrap.servers = [localhost:29092]
	client.dns.lookup = use_all_dns_ips
	client.id = borrow-service-admin-0
	connections.max.idle.ms = 300000
	default.api.timeout.ms = 60000
	enable.metrics.push = true
	metadata.max.age.ms = 300000
	metadata.recovery.strategy = none
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.max.ms = 1000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.3]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.3
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS

2025-05-08 11:13:20,578 INFO o.a.k.c.u.AppInfoParser$AppInfo [main] Kafka version: 3.8.1
2025-05-08 11:13:20,579 INFO o.a.k.c.u.AppInfoParser$AppInfo [main] Kafka commitId: 70d6ff42debf7e17
2025-05-08 11:13:20,579 INFO o.a.k.c.u.AppInfoParser$AppInfo [main] Kafka startTimeMs: 1746683000576
2025-05-08 11:13:21,316 INFO o.a.k.c.u.AppInfoParser [kafka-admin-client-thread | borrow-service-admin-0] App info kafka.admin.client for borrow-service-admin-0 unregistered
2025-05-08 11:13:21,322 INFO o.a.k.c.m.Metrics [kafka-admin-client-thread | borrow-service-admin-0] Metrics scheduler closed
2025-05-08 11:13:21,323 INFO o.a.k.c.m.Metrics [kafka-admin-client-thread | borrow-service-admin-0] Closing reporter org.apache.kafka.common.metrics.JmxReporter
2025-05-08 11:13:21,323 INFO o.a.k.c.m.Metrics [kafka-admin-client-thread | borrow-service-admin-0] Metrics reporters closed
2025-05-08 11:13:21,418 INFO o.a.j.l.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8082"]
2025-05-08 11:13:21,452 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port 8082 (http) with context path '/api'
2025-05-08 11:13:21,495 INFO o.s.b.StartupInfoLogger [main] Started BorrowServiceApplication in 87.154 seconds (process running for 88.657)
2025-05-08 11:13:21,804 INFO o.a.j.l.DirectJDKLog [RMI TCP Connection(2)-192.168.1.9] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-08 11:13:21,805 INFO o.s.w.s.FrameworkServlet [RMI TCP Connection(2)-192.168.1.9] Initializing Servlet 'dispatcherServlet'
2025-05-08 11:13:21,809 INFO o.s.w.s.FrameworkServlet [RMI TCP Connection(2)-192.168.1.9] Completed initialization in 3 ms
2025-05-08 11:13:44,502 DEBUG c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-1] Request path: /api/actuator/health, Skipping JWT authentication: false
2025-05-08 11:16:52,439 WARN c.z.h.p.HikariPool$HouseKeeper [BorrowServiceHikariPool housekeeper] BorrowServiceHikariPool - Thread starvation or clock leap detected (housekeeper delta=3m33s992ms522µs400ns).
2025-05-08 11:16:52,562 ERROR c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-1] Authentication error: No token provided
2025-05-08 11:16:53,261 INFO o.s.b.w.e.t.GracefulShutdown [SpringApplicationShutdownHook] Commencing graceful shutdown. Waiting for active requests to complete
2025-05-08 11:16:53,674 INFO o.s.b.w.e.t.GracefulShutdown [tomcat-shutdown] Graceful shutdown complete
2025-05-08 11:16:53,834 INFO o.s.o.j.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-08 11:16:53,921 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] BorrowServiceHikariPool - Shutdown initiated...
2025-05-08 11:16:53,940 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] BorrowServiceHikariPool - Shutdown completed.
2025-05-08 11:17:03,017 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.2.Final
2025-05-08 11:17:03,115 INFO o.s.b.StartupInfoLogger [main] Starting BorrowServiceApplication using Java 17.0.4.1 with PID 23184 (C:\Users\PRAJAPATI\Downloads\borrow-service\borrow-service\target\classes started by PRAJAPATI in C:\Users\PRAJAPATI\Downloads\borrow-service\borrow-service)
2025-05-08 11:17:03,116 DEBUG o.s.b.StartupInfoLogger [main] Running with Spring Boot v3.4.5, Spring v6.2.6
2025-05-08 11:17:03,117 INFO o.s.b.SpringApplication [main] The following 1 profile is active: "dev"
2025-05-08 11:17:05,174 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-08 11:17:05,264 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 77 ms. Found 4 JPA repository interfaces.
2025-05-08 11:17:06,522 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port 8082 (http)
2025-05-08 11:17:06,534 INFO o.a.j.l.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8082"]
2025-05-08 11:17:06,536 INFO o.a.j.l.DirectJDKLog [main] Starting service [Tomcat]
2025-05-08 11:17:06,537 INFO o.a.j.l.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-05-08 11:17:06,610 INFO o.a.j.l.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2025-05-08 11:17:06,611 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3378 ms
2025-05-08 11:17:06,893 DEBUG c.b.b.c.RestTemplateConfig [main] Creating RestTemplate for User Service with timeout: 5000ms
2025-05-08 11:17:07,146 DEBUG o.s.w.f.GenericFilterBean [main] Filter 'jwtAuthenticationFilter' configured for use
2025-05-08 11:17:07,440 INFO c.z.h.HikariDataSource [main] BorrowServiceHikariPool - Starting...
2025-05-08 11:17:13,535 INFO c.z.h.HikariDataSource [main] BorrowServiceHikariPool - Starting...
2025-05-08 11:17:13,754 INFO c.z.h.p.HikariPool [main] BorrowServiceHikariPool - Added connection org.postgresql.jdbc.PgConnection@5020e5ab
2025-05-08 11:17:13,756 INFO c.z.h.HikariDataSource [main] BorrowServiceHikariPool - Start completed.
2025-05-08 11:17:13,784 INFO o.f.c.i.l.s.Slf4jLog [main] Database: jdbc:postgresql://localhost:5432/borrowdb (PostgreSQL 15.12)
2025-05-08 11:17:13,896 INFO o.f.c.i.l.s.Slf4jLog [main] Successfully validated 2 migrations (execution time 00:00.054s)
2025-05-08 11:17:13,967 INFO o.f.c.i.l.s.Slf4jLog [main] Current version of schema "public": 1
2025-05-08 11:17:13,983 INFO o.f.c.i.l.s.Slf4jLog [main] Schema "public" is up to date. No migration necessary.
2025-05-08 11:17:14,131 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-08 11:17:14,221 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.6.13.Final
2025-05-08 11:17:14,257 INFO o.h.c.i.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
2025-05-08 11:17:14,555 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-08 11:17:14,632 WARN o.h.e.j.d.i.DialectFactoryImpl [main] HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-08 11:17:14,658 INFO o.h.e.j.e.i.JdbcEnvironmentInitiator [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (BorrowServiceHikariPool)']
	Database driver: undefined/unknown
	Database version: 15.12
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-08 11:17:15,611 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-08 11:17:17,061 INFO o.s.o.j.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-08 11:17:17,446 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-08 11:17:18,061 DEBUG c.b.b.c.RestTemplateConfig [main] Creating RestTemplate for Book Service with timeout: 5000ms
2025-05-08 11:17:18,505 INFO o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer [main] Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-05-08 11:17:19,367 INFO o.s.b.a.e.w.EndpointLinksResolver [main] Exposing 2 endpoints beneath base path '/actuator'
2025-05-08 11:17:25,399 INFO o.a.k.c.c.AbstractConfig [main] AdminClientConfig values: 
	auto.include.jmx.reporter = true
	bootstrap.controllers = []
	bootstrap.servers = [localhost:29092]
	client.dns.lookup = use_all_dns_ips
	client.id = borrow-service-admin-0
	connections.max.idle.ms = 300000
	default.api.timeout.ms = 60000
	enable.metrics.push = true
	metadata.max.age.ms = 300000
	metadata.recovery.strategy = none
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.max.ms = 1000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.3]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.3
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS

2025-05-08 11:17:25,507 INFO o.a.k.c.u.AppInfoParser$AppInfo [main] Kafka version: 3.8.1
2025-05-08 11:17:25,508 INFO o.a.k.c.u.AppInfoParser$AppInfo [main] Kafka commitId: 70d6ff42debf7e17
2025-05-08 11:17:25,508 INFO o.a.k.c.u.AppInfoParser$AppInfo [main] Kafka startTimeMs: 1746683245504
2025-05-08 11:17:26,183 INFO o.a.k.c.u.AppInfoParser [kafka-admin-client-thread | borrow-service-admin-0] App info kafka.admin.client for borrow-service-admin-0 unregistered
2025-05-08 11:17:26,190 INFO o.a.k.c.m.Metrics [kafka-admin-client-thread | borrow-service-admin-0] Metrics scheduler closed
2025-05-08 11:17:26,190 INFO o.a.k.c.m.Metrics [kafka-admin-client-thread | borrow-service-admin-0] Closing reporter org.apache.kafka.common.metrics.JmxReporter
2025-05-08 11:17:26,191 INFO o.a.k.c.m.Metrics [kafka-admin-client-thread | borrow-service-admin-0] Metrics reporters closed
2025-05-08 11:17:26,244 INFO o.a.j.l.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8082"]
2025-05-08 11:17:26,260 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port 8082 (http) with context path '/api'
2025-05-08 11:17:26,284 INFO o.s.b.StartupInfoLogger [main] Started BorrowServiceApplication in 24.066 seconds (process running for 25.666)
2025-05-08 11:17:26,817 INFO o.a.j.l.DirectJDKLog [RMI TCP Connection(1)-192.168.1.9] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-08 11:17:26,818 INFO o.s.w.s.FrameworkServlet [RMI TCP Connection(1)-192.168.1.9] Initializing Servlet 'dispatcherServlet'
2025-05-08 11:17:26,820 INFO o.s.w.s.FrameworkServlet [RMI TCP Connection(1)-192.168.1.9] Completed initialization in 2 ms
2025-05-08 11:17:36,201 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-1] Request path: /api/actuator/health, Skipping JWT authentication: true
2025-05-08 11:18:01,447 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-5] Request path: /api/swagger-ui, Skipping JWT authentication: false
2025-05-08 11:18:01,449 ERROR c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-5] Authentication error: No token provided
2025-05-08 11:18:50,518 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-10] Request path: /api/actuator/health, Skipping JWT authentication: true
2025-05-08 11:19:02,179 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-1] Request path: /api/actuator/health, Skipping JWT authentication: true
2025-05-08 11:19:10,978 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-5] Request path: /api/actuator/health, Skipping JWT authentication: true
2025-05-08 11:23:42,962 INFO o.s.b.w.e.t.GracefulShutdown [SpringApplicationShutdownHook] Commencing graceful shutdown. Waiting for active requests to complete
2025-05-08 11:23:43,198 INFO o.s.b.w.e.t.GracefulShutdown [tomcat-shutdown] Graceful shutdown complete
2025-05-08 11:23:43,407 INFO o.s.o.j.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-08 11:23:43,515 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] BorrowServiceHikariPool - Shutdown initiated...
2025-05-08 11:23:43,555 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] BorrowServiceHikariPool - Shutdown completed.
2025-05-08 11:23:51,317 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.2.Final
2025-05-08 11:23:51,414 INFO o.s.b.StartupInfoLogger [main] Starting BorrowServiceApplication using Java 17.0.4.1 with PID 30172 (C:\Users\PRAJAPATI\Downloads\borrow-service\borrow-service\target\classes started by PRAJAPATI in C:\Users\PRAJAPATI\Downloads\borrow-service\borrow-service)
2025-05-08 11:23:51,415 DEBUG o.s.b.StartupInfoLogger [main] Running with Spring Boot v3.4.5, Spring v6.2.6
2025-05-08 11:23:51,416 INFO o.s.b.SpringApplication [main] The following 1 profile is active: "dev"
2025-05-08 11:23:53,332 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-08 11:23:53,444 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 97 ms. Found 4 JPA repository interfaces.
2025-05-08 11:23:54,656 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port 8082 (http)
2025-05-08 11:23:54,669 INFO o.a.j.l.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8082"]
2025-05-08 11:23:54,671 INFO o.a.j.l.DirectJDKLog [main] Starting service [Tomcat]
2025-05-08 11:23:54,672 INFO o.a.j.l.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-05-08 11:23:54,744 INFO o.a.j.l.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2025-05-08 11:23:54,745 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3242 ms
2025-05-08 11:23:55,027 DEBUG c.b.b.c.RestTemplateConfig [main] Creating RestTemplate for User Service with timeout: 5000ms
2025-05-08 11:23:55,273 DEBUG o.s.w.f.GenericFilterBean [main] Filter 'jwtAuthenticationFilter' configured for use
2025-05-08 11:23:55,563 INFO c.z.h.HikariDataSource [main] BorrowServiceHikariPool - Starting...
2025-05-08 11:23:55,859 INFO c.z.h.p.HikariPool [main] BorrowServiceHikariPool - Added connection org.postgresql.jdbc.PgConnection@3909308c
2025-05-08 11:23:55,861 INFO c.z.h.HikariDataSource [main] BorrowServiceHikariPool - Start completed.
2025-05-08 11:23:55,905 INFO o.f.c.i.l.s.Slf4jLog [main] Database: jdbc:postgresql://localhost:5432/borrowdb (PostgreSQL 15.12)
2025-05-08 11:23:56,020 INFO o.f.c.i.l.s.Slf4jLog [main] Successfully validated 2 migrations (execution time 00:00.053s)
2025-05-08 11:24:01,104 INFO o.f.c.i.l.s.Slf4jLog [main] Current version of schema "public": 1
2025-05-08 11:24:01,110 INFO o.f.c.i.l.s.Slf4jLog [main] Schema "public" is up to date. No migration necessary.
2025-05-08 11:24:01,249 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-08 11:24:01,316 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.6.13.Final
2025-05-08 11:24:01,360 INFO o.h.c.i.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
2025-05-08 11:24:01,646 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-08 11:24:01,731 WARN o.h.e.j.d.i.DialectFactoryImpl [main] HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-08 11:24:01,759 INFO o.h.e.j.e.i.JdbcEnvironmentInitiator [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (BorrowServiceHikariPool)']
	Database driver: undefined/unknown
	Database version: 15.12
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-08 11:24:02,822 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-08 11:24:04,781 INFO o.s.o.j.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-08 11:24:05,164 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-08 11:24:05,704 DEBUG c.b.b.c.RestTemplateConfig [main] Creating RestTemplate for Book Service with timeout: 5000ms
2025-05-08 11:24:06,138 INFO o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer [main] Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-05-08 11:24:07,067 INFO o.s.b.a.e.w.EndpointLinksResolver [main] Exposing 2 endpoints beneath base path '/actuator'
2025-05-08 11:24:08,110 INFO o.a.k.c.c.AbstractConfig [main] AdminClientConfig values: 
	auto.include.jmx.reporter = true
	bootstrap.controllers = []
	bootstrap.servers = [localhost:29092]
	client.dns.lookup = use_all_dns_ips
	client.id = borrow-service-admin-0
	connections.max.idle.ms = 300000
	default.api.timeout.ms = 60000
	enable.metrics.push = true
	metadata.max.age.ms = 300000
	metadata.recovery.strategy = none
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.max.ms = 1000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.3]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.3
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS

2025-05-08 11:24:08,199 INFO o.a.k.c.u.AppInfoParser$AppInfo [main] Kafka version: 3.8.1
2025-05-08 11:24:08,199 INFO o.a.k.c.u.AppInfoParser$AppInfo [main] Kafka commitId: 70d6ff42debf7e17
2025-05-08 11:24:08,199 INFO o.a.k.c.u.AppInfoParser$AppInfo [main] Kafka startTimeMs: 1746683648197
2025-05-08 11:24:08,822 INFO o.a.k.c.u.AppInfoParser [kafka-admin-client-thread | borrow-service-admin-0] App info kafka.admin.client for borrow-service-admin-0 unregistered
2025-05-08 11:24:08,828 INFO o.a.k.c.m.Metrics [kafka-admin-client-thread | borrow-service-admin-0] Metrics scheduler closed
2025-05-08 11:24:08,828 INFO o.a.k.c.m.Metrics [kafka-admin-client-thread | borrow-service-admin-0] Closing reporter org.apache.kafka.common.metrics.JmxReporter
2025-05-08 11:24:08,828 INFO o.a.k.c.m.Metrics [kafka-admin-client-thread | borrow-service-admin-0] Metrics reporters closed
2025-05-08 11:24:08,871 INFO o.a.j.l.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8082"]
2025-05-08 11:24:08,883 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port 8082 (http) with context path '/api'
2025-05-08 11:24:08,901 INFO o.s.b.StartupInfoLogger [main] Started BorrowServiceApplication in 18.195 seconds (process running for 19.73)
2025-05-08 11:24:09,460 INFO o.a.j.l.DirectJDKLog [RMI TCP Connection(2)-192.168.1.9] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-08 11:24:09,460 INFO o.s.w.s.FrameworkServlet [RMI TCP Connection(2)-192.168.1.9] Initializing Servlet 'dispatcherServlet'
2025-05-08 11:24:09,462 INFO o.s.w.s.FrameworkServlet [RMI TCP Connection(2)-192.168.1.9] Completed initialization in 2 ms
2025-05-08 11:24:44,043 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-1] REQUEST: GET /api/actuator/health
2025-05-08 11:24:44,044 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-1] MATCHING: exactMatch=true, containsMatch=true, patternMatch=true
2025-05-08 11:24:44,044 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-1] DECISION: Skipping JWT authentication: true
2025-05-08 11:25:06,082 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-4] REQUEST: GET /api/actuator/health
2025-05-08 11:25:06,082 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-4] MATCHING: exactMatch=true, containsMatch=true, patternMatch=true
2025-05-08 11:25:06,084 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-4] DECISION: Skipping JWT authentication: true
2025-05-08 11:29:31,262 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-7] REQUEST: GET /api/actuator/health
2025-05-08 11:29:31,288 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-7] MATCHING: exactMatch=true, containsMatch=true, patternMatch=true
2025-05-08 11:29:31,289 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-7] DECISION: Skipping JWT authentication: true
2025-05-08 11:29:37,619 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-2] REQUEST: GET /api/actuator/health
2025-05-08 11:29:37,623 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-2] MATCHING: exactMatch=true, containsMatch=true, patternMatch=true
2025-05-08 11:29:37,623 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-2] DECISION: Skipping JWT authentication: true
2025-05-08 11:30:51,408 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-1] REQUEST: GET /api/actuator/health
2025-05-08 11:30:52,051 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-1] MATCHING: exactMatch=true, containsMatch=true, patternMatch=true
2025-05-08 11:30:52,583 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-1] DECISION: Skipping JWT authentication: true
2025-05-08 11:31:41,989 WARN c.z.h.p.HikariPool$HouseKeeper [BorrowServiceHikariPool housekeeper] BorrowServiceHikariPool - Thread starvation or clock leap detected (housekeeper delta=1m6s367ms505µs200ns).
2025-05-08 11:34:33,251 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-4] REQUEST: GET /api/actuator/health
2025-05-08 11:34:33,287 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-4] MATCHING: exactMatch=true, containsMatch=true, patternMatch=true
2025-05-08 11:34:33,296 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-4] DECISION: Skipping JWT authentication: true
2025-05-08 11:42:14,947 INFO o.s.b.w.e.t.GracefulShutdown [SpringApplicationShutdownHook] Commencing graceful shutdown. Waiting for active requests to complete
2025-05-08 11:42:15,206 INFO o.s.b.w.e.t.GracefulShutdown [tomcat-shutdown] Graceful shutdown complete
2025-05-08 11:42:15,526 INFO o.s.o.j.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-08 11:42:15,671 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] BorrowServiceHikariPool - Shutdown initiated...
2025-05-08 11:42:15,726 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] BorrowServiceHikariPool - Shutdown completed.
2025-05-08 11:42:32,460 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.2.Final
2025-05-08 11:42:32,685 INFO o.s.b.StartupInfoLogger [main] Starting BorrowServiceApplication using Java 17.0.4.1 with PID 29132 (C:\Users\PRAJAPATI\Downloads\borrow-service\borrow-service\target\classes started by PRAJAPATI in C:\Users\PRAJAPATI\Downloads\borrow-service\borrow-service)
2025-05-08 11:42:32,691 DEBUG o.s.b.StartupInfoLogger [main] Running with Spring Boot v3.4.5, Spring v6.2.6
2025-05-08 11:42:32,695 INFO o.s.b.SpringApplication [main] The following 1 profile is active: "dev"
2025-05-08 11:42:35,353 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-08 11:42:35,495 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 115 ms. Found 4 JPA repository interfaces.
2025-05-08 11:42:37,081 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port 8082 (http)
2025-05-08 11:42:37,116 INFO o.a.j.l.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8082"]
2025-05-08 11:42:37,116 INFO o.a.j.l.DirectJDKLog [main] Starting service [Tomcat]
2025-05-08 11:42:37,116 INFO o.a.j.l.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-05-08 11:42:37,207 INFO o.a.j.l.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2025-05-08 11:42:37,207 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 4298 ms
2025-05-08 11:42:37,502 DEBUG c.b.b.c.RestTemplateConfig [main] Creating RestTemplate for User Service with timeout: 5000ms
2025-05-08 11:42:37,833 DEBUG o.s.w.f.GenericFilterBean [main] Filter 'jwtAuthenticationFilter' configured for use
2025-05-08 11:42:38,119 INFO c.z.h.HikariDataSource [main] BorrowServiceHikariPool - Starting...
2025-05-08 11:42:44,226 INFO c.z.h.HikariDataSource [main] BorrowServiceHikariPool - Starting...
2025-05-08 11:42:45,029 INFO c.z.h.p.HikariPool [main] BorrowServiceHikariPool - Added connection org.postgresql.jdbc.PgConnection@3909308c
2025-05-08 11:42:45,031 INFO c.z.h.HikariDataSource [main] BorrowServiceHikariPool - Start completed.
2025-05-08 11:42:45,068 INFO o.f.c.i.l.s.Slf4jLog [main] Database: jdbc:postgresql://localhost:5432/borrowdb (PostgreSQL 15.12)
2025-05-08 11:42:45,317 INFO o.f.c.i.l.s.Slf4jLog [main] Successfully validated 2 migrations (execution time 00:00.139s)
2025-05-08 11:42:45,383 INFO o.f.c.i.l.s.Slf4jLog [main] Current version of schema "public": 1
2025-05-08 11:42:45,401 INFO o.f.c.i.l.s.Slf4jLog [main] Schema "public" is up to date. No migration necessary.
2025-05-08 11:42:45,585 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-08 11:42:45,700 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.6.13.Final
2025-05-08 11:42:45,761 INFO o.h.c.i.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
2025-05-08 11:42:46,193 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-08 11:42:46,312 WARN o.h.e.j.d.i.DialectFactoryImpl [main] HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-08 11:42:46,342 INFO o.h.e.j.e.i.JdbcEnvironmentInitiator [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (BorrowServiceHikariPool)']
	Database driver: undefined/unknown
	Database version: 15.12
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-08 11:42:48,772 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-08 11:42:52,160 INFO o.s.o.j.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-08 11:42:53,018 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-08 11:42:53,756 DEBUG c.b.b.c.RestTemplateConfig [main] Creating RestTemplate for Book Service with timeout: 5000ms
2025-05-08 11:42:54,877 INFO o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer [main] Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-05-08 11:42:56,775 INFO o.s.b.a.e.w.EndpointLinksResolver [main] Exposing 2 endpoints beneath base path '/actuator'
2025-05-08 11:43:04,964 INFO o.a.k.c.c.AbstractConfig [main] AdminClientConfig values: 
	auto.include.jmx.reporter = true
	bootstrap.controllers = []
	bootstrap.servers = [localhost:29092]
	client.dns.lookup = use_all_dns_ips
	client.id = borrow-service-admin-0
	connections.max.idle.ms = 300000
	default.api.timeout.ms = 60000
	enable.metrics.push = true
	metadata.max.age.ms = 300000
	metadata.recovery.strategy = none
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.max.ms = 1000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.3]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.3
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS

2025-05-08 11:43:05,231 INFO o.a.k.c.u.AppInfoParser$AppInfo [main] Kafka version: 3.8.1
2025-05-08 11:43:05,233 INFO o.a.k.c.u.AppInfoParser$AppInfo [main] Kafka commitId: 70d6ff42debf7e17
2025-05-08 11:43:05,233 INFO o.a.k.c.u.AppInfoParser$AppInfo [main] Kafka startTimeMs: 1746684785225
2025-05-08 11:43:14,012 INFO o.a.k.c.u.AppInfoParser [kafka-admin-client-thread | borrow-service-admin-0] App info kafka.admin.client for borrow-service-admin-0 unregistered
2025-05-08 11:43:14,028 INFO o.a.k.c.m.Metrics [kafka-admin-client-thread | borrow-service-admin-0] Metrics scheduler closed
2025-05-08 11:43:14,029 INFO o.a.k.c.m.Metrics [kafka-admin-client-thread | borrow-service-admin-0] Closing reporter org.apache.kafka.common.metrics.JmxReporter
2025-05-08 11:43:14,030 INFO o.a.k.c.m.Metrics [kafka-admin-client-thread | borrow-service-admin-0] Metrics reporters closed
2025-05-08 11:43:14,212 INFO o.a.j.l.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8082"]
2025-05-08 11:43:14,361 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port 8082 (http) with context path '/'
2025-05-08 11:43:14,476 INFO o.s.b.StartupInfoLogger [main] Started BorrowServiceApplication in 44.162 seconds (process running for 47.791)
2025-05-08 11:43:15,174 INFO o.a.j.l.DirectJDKLog [RMI TCP Connection(5)-192.168.1.9] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-08 11:43:15,174 INFO o.s.w.s.FrameworkServlet [RMI TCP Connection(5)-192.168.1.9] Initializing Servlet 'dispatcherServlet'
2025-05-08 11:43:15,174 INFO o.s.w.s.FrameworkServlet [RMI TCP Connection(5)-192.168.1.9] Completed initialization in 0 ms
2025-05-08 11:44:55,160 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-2] REQUEST: GET /api/actuator/health
2025-05-08 11:44:54,927 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-1] REQUEST: GET /api/actuator/health
2025-05-08 11:44:55,168 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-2] MATCHING: exactMatch=false, containsMatch=true, patternMatch=false
2025-05-08 11:45:02,142 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-2] DECISION: Skipping JWT authentication: true
2025-05-08 11:45:02,148 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-1] MATCHING: exactMatch=false, containsMatch=true, patternMatch=false
2025-05-08 11:45:02,151 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-1] DECISION: Skipping JWT authentication: true
2025-05-08 11:46:00,795 WARN c.z.h.p.HikariPool$HouseKeeper [BorrowServiceHikariPool housekeeper] BorrowServiceHikariPool - Thread starvation or clock leap detected (housekeeper delta=1m7s28ms329µs400ns).
2025-05-08 11:46:00,795 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-4] REQUEST: GET /actuator/health
2025-05-08 11:46:00,843 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-4] MATCHING: exactMatch=true, containsMatch=true, patternMatch=true
2025-05-08 11:46:00,845 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-4] DECISION: Skipping JWT authentication: true
2025-05-08 11:46:01,162 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-4] REQUEST: GET /actuator/health
2025-05-08 11:46:01,172 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-4] MATCHING: exactMatch=true, containsMatch=true, patternMatch=true
2025-05-08 11:46:01,173 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-4] DECISION: Skipping JWT authentication: true
2025-05-08 11:46:43,736 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-6] REQUEST: GET /actuator/health
2025-05-08 11:46:43,737 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-6] MATCHING: exactMatch=true, containsMatch=true, patternMatch=true
2025-05-08 11:46:43,737 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-6] DECISION: Skipping JWT authentication: true
2025-05-08 11:46:43,739 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-6] REQUEST: GET /actuator/health
2025-05-08 11:46:43,740 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-6] MATCHING: exactMatch=true, containsMatch=true, patternMatch=true
2025-05-08 11:46:43,740 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-6] DECISION: Skipping JWT authentication: true
2025-05-08 11:47:44,859 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-9] REQUEST: GET /actuator/infp
2025-05-08 11:47:44,892 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-9] MATCHING: exactMatch=false, containsMatch=true, patternMatch=true
2025-05-08 11:47:44,892 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-9] DECISION: Skipping JWT authentication: true
2025-05-08 11:47:44,959 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-9] REQUEST: GET /actuator/infp
2025-05-08 11:47:44,959 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-9] MATCHING: exactMatch=false, containsMatch=true, patternMatch=true
2025-05-08 11:47:44,959 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-9] DECISION: Skipping JWT authentication: true
2025-05-08 11:47:47,938 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-3] REQUEST: GET /actuator/info
2025-05-08 11:47:47,938 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-3] MATCHING: exactMatch=false, containsMatch=true, patternMatch=true
2025-05-08 11:47:47,938 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-3] DECISION: Skipping JWT authentication: true
2025-05-08 11:47:47,954 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-3] REQUEST: GET /actuator/info
2025-05-08 11:47:47,954 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-3] MATCHING: exactMatch=false, containsMatch=true, patternMatch=true
2025-05-08 11:47:47,954 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-3] DECISION: Skipping JWT authentication: true
2025-05-08 11:51:13,408 INFO o.s.b.w.e.t.GracefulShutdown [SpringApplicationShutdownHook] Commencing graceful shutdown. Waiting for active requests to complete
2025-05-08 11:51:13,632 INFO o.s.b.w.e.t.GracefulShutdown [tomcat-shutdown] Graceful shutdown complete
2025-05-08 11:51:13,820 INFO o.s.o.j.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-08 11:51:13,912 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] BorrowServiceHikariPool - Shutdown initiated...
2025-05-08 11:51:13,947 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] BorrowServiceHikariPool - Shutdown completed.
2025-05-08 11:51:22,358 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.2.Final
2025-05-08 11:51:22,426 INFO o.s.b.StartupInfoLogger [main] Starting BorrowServiceApplication using Java 17.0.4.1 with PID 3720 (C:\Users\PRAJAPATI\Downloads\borrow-service\borrow-service\target\classes started by PRAJAPATI in C:\Users\PRAJAPATI\Downloads\borrow-service\borrow-service)
2025-05-08 11:51:22,427 DEBUG o.s.b.StartupInfoLogger [main] Running with Spring Boot v3.4.5, Spring v6.2.6
2025-05-08 11:51:22,428 INFO o.s.b.SpringApplication [main] The following 1 profile is active: "dev"
2025-05-08 11:51:24,560 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-08 11:51:24,664 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 88 ms. Found 4 JPA repository interfaces.
2025-05-08 11:51:25,787 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port 8082 (http)
2025-05-08 11:51:25,798 INFO o.a.j.l.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8082"]
2025-05-08 11:51:25,800 INFO o.a.j.l.DirectJDKLog [main] Starting service [Tomcat]
2025-05-08 11:51:25,800 INFO o.a.j.l.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-05-08 11:51:25,876 INFO o.a.j.l.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2025-05-08 11:51:25,876 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3388 ms
2025-05-08 11:51:26,131 DEBUG c.b.b.c.RestTemplateConfig [main] Creating RestTemplate for User Service with timeout: 5000ms
2025-05-08 11:51:26,401 DEBUG o.s.w.f.GenericFilterBean [main] Filter 'jwtAuthenticationFilter' configured for use
2025-05-08 11:51:26,697 INFO c.z.h.HikariDataSource [main] BorrowServiceHikariPool - Starting...
2025-05-08 11:51:27,180 INFO c.z.h.p.HikariPool [main] BorrowServiceHikariPool - Added connection org.postgresql.jdbc.PgConnection@1238a074
2025-05-08 11:51:27,183 INFO c.z.h.HikariDataSource [main] BorrowServiceHikariPool - Start completed.
2025-05-08 11:51:27,229 INFO o.f.c.i.l.s.Slf4jLog [main] Database: jdbc:postgresql://localhost:5432/borrowdb (PostgreSQL 15.12)
2025-05-08 11:51:27,382 INFO o.f.c.i.l.s.Slf4jLog [main] Successfully validated 2 migrations (execution time 00:00.070s)
2025-05-08 11:51:32,662 INFO o.f.c.i.l.s.Slf4jLog [main] Current version of schema "public": 1
2025-05-08 11:51:32,679 INFO o.f.c.i.l.s.Slf4jLog [main] Schema "public" is up to date. No migration necessary.
2025-05-08 11:51:33,086 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-08 11:51:33,310 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.6.13.Final
2025-05-08 11:51:33,404 INFO o.h.c.i.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
2025-05-08 11:51:33,991 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-08 11:51:34,145 WARN o.h.e.j.d.i.DialectFactoryImpl [main] HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-08 11:51:34,201 INFO o.h.e.j.e.i.JdbcEnvironmentInitiator [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (BorrowServiceHikariPool)']
	Database driver: undefined/unknown
	Database version: 15.12
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-08 11:51:35,437 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-08 11:51:39,657 INFO o.s.o.j.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-08 11:51:40,219 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-08 11:51:40,847 DEBUG c.b.b.c.RestTemplateConfig [main] Creating RestTemplate for Book Service with timeout: 5000ms
2025-05-08 11:51:41,357 INFO o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer [main] Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-05-08 11:51:42,259 INFO o.s.b.a.e.w.EndpointLinksResolver [main] Exposing 2 endpoints beneath base path '/actuator'
2025-05-08 11:51:43,464 INFO o.a.k.c.c.AbstractConfig [main] AdminClientConfig values: 
	auto.include.jmx.reporter = true
	bootstrap.controllers = []
	bootstrap.servers = [localhost:29092]
	client.dns.lookup = use_all_dns_ips
	client.id = borrow-service-admin-0
	connections.max.idle.ms = 300000
	default.api.timeout.ms = 60000
	enable.metrics.push = true
	metadata.max.age.ms = 300000
	metadata.recovery.strategy = none
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.max.ms = 1000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.3]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.3
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS

2025-05-08 11:51:43,565 INFO o.a.k.c.u.AppInfoParser$AppInfo [main] Kafka version: 3.8.1
2025-05-08 11:51:43,565 INFO o.a.k.c.u.AppInfoParser$AppInfo [main] Kafka commitId: 70d6ff42debf7e17
2025-05-08 11:51:43,565 INFO o.a.k.c.u.AppInfoParser$AppInfo [main] Kafka startTimeMs: 1746685303564
2025-05-08 11:51:44,191 INFO o.a.k.c.u.AppInfoParser [kafka-admin-client-thread | borrow-service-admin-0] App info kafka.admin.client for borrow-service-admin-0 unregistered
2025-05-08 11:51:44,195 INFO o.a.k.c.m.Metrics [kafka-admin-client-thread | borrow-service-admin-0] Metrics scheduler closed
2025-05-08 11:51:44,195 INFO o.a.k.c.m.Metrics [kafka-admin-client-thread | borrow-service-admin-0] Closing reporter org.apache.kafka.common.metrics.JmxReporter
2025-05-08 11:51:44,196 INFO o.a.k.c.m.Metrics [kafka-admin-client-thread | borrow-service-admin-0] Metrics reporters closed
2025-05-08 11:51:44,245 INFO o.a.j.l.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8082"]
2025-05-08 11:51:44,257 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port 8082 (http) with context path '/'
2025-05-08 11:51:44,281 INFO o.s.b.StartupInfoLogger [main] Started BorrowServiceApplication in 22.678 seconds (process running for 24.233)
2025-05-08 11:51:44,826 INFO o.a.j.l.DirectJDKLog [RMI TCP Connection(3)-192.168.1.9] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-08 11:51:44,827 INFO o.s.w.s.FrameworkServlet [RMI TCP Connection(3)-192.168.1.9] Initializing Servlet 'dispatcherServlet'
2025-05-08 11:51:44,832 INFO o.s.w.s.FrameworkServlet [RMI TCP Connection(3)-192.168.1.9] Completed initialization in 4 ms
2025-05-08 11:55:15,977 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-1] MATCHING: patternMatch=true
2025-05-08 11:55:16,287 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-1] MATCHING: patternMatch=true
2025-05-08 11:55:18,073 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-5] MATCHING: patternMatch=true
2025-05-08 11:55:18,083 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-5] MATCHING: patternMatch=true
2025-05-08 11:55:18,096 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-8] MATCHING: patternMatch=true
2025-05-08 11:55:18,099 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-3] MATCHING: patternMatch=true
2025-05-08 11:55:18,104 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-8] MATCHING: patternMatch=true
2025-05-08 11:55:18,108 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-3] MATCHING: patternMatch=true
2025-05-08 11:55:18,209 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-6] MATCHING: patternMatch=true
2025-05-08 11:55:18,214 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-6] MATCHING: patternMatch=true
2025-05-08 11:55:18,214 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-7] MATCHING: patternMatch=true
2025-05-08 11:55:18,221 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-7] MATCHING: patternMatch=true
2025-05-08 11:55:19,298 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-2] MATCHING: patternMatch=false
2025-05-08 11:55:19,301 WARN c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-2] No token provided for path: /api-docs/swagger-config
2025-05-08 11:55:19,309 ERROR c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-2] Authentication error for path /api-docs/swagger-config: No token provided
2025-05-08 11:55:19,861 WARN c.z.h.p.HikariPool$HouseKeeper [BorrowServiceHikariPool housekeeper] BorrowServiceHikariPool - Thread starvation or clock leap detected (housekeeper delta=52s530ms195µs100ns).
2025-05-08 11:56:43,365 INFO o.s.b.w.e.t.GracefulShutdown [SpringApplicationShutdownHook] Commencing graceful shutdown. Waiting for active requests to complete
2025-05-08 11:56:43,654 INFO o.s.b.w.e.t.GracefulShutdown [tomcat-shutdown] Graceful shutdown complete
2025-05-08 11:56:44,052 INFO o.s.o.j.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-08 11:56:44,256 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] BorrowServiceHikariPool - Shutdown initiated...
2025-05-08 11:56:44,333 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] BorrowServiceHikariPool - Shutdown completed.
2025-05-08 11:56:53,799 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.2.Final
2025-05-08 11:56:53,931 INFO o.s.b.StartupInfoLogger [main] Starting BorrowServiceApplication using Java 17.0.4.1 with PID 2856 (C:\Users\PRAJAPATI\Downloads\borrow-service\borrow-service\target\classes started by PRAJAPATI in C:\Users\PRAJAPATI\Downloads\borrow-service\borrow-service)
2025-05-08 11:56:53,934 DEBUG o.s.b.StartupInfoLogger [main] Running with Spring Boot v3.4.5, Spring v6.2.6
2025-05-08 11:56:53,935 INFO o.s.b.SpringApplication [main] The following 1 profile is active: "dev"
2025-05-08 11:56:56,265 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-08 11:56:56,376 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 92 ms. Found 4 JPA repository interfaces.
2025-05-08 11:56:57,858 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port 8082 (http)
2025-05-08 11:56:57,873 INFO o.a.j.l.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8082"]
2025-05-08 11:56:57,875 INFO o.a.j.l.DirectJDKLog [main] Starting service [Tomcat]
2025-05-08 11:56:57,875 INFO o.a.j.l.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-05-08 11:56:57,968 INFO o.a.j.l.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2025-05-08 11:56:57,969 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3880 ms
2025-05-08 11:56:58,264 DEBUG c.b.b.c.RestTemplateConfig [main] Creating RestTemplate for User Service with timeout: 5000ms
2025-05-08 11:56:58,553 DEBUG o.s.w.f.GenericFilterBean [main] Filter 'jwtAuthenticationFilter' configured for use
2025-05-08 11:56:58,876 INFO c.z.h.HikariDataSource [main] BorrowServiceHikariPool - Starting...
2025-05-08 11:56:59,308 INFO c.z.h.p.HikariPool [main] BorrowServiceHikariPool - Added connection org.postgresql.jdbc.PgConnection@39420d59
2025-05-08 11:56:59,309 INFO c.z.h.HikariDataSource [main] BorrowServiceHikariPool - Start completed.
2025-05-08 11:56:59,354 INFO o.f.c.i.l.s.Slf4jLog [main] Database: jdbc:postgresql://localhost:5432/borrowdb (PostgreSQL 15.12)
2025-05-08 11:56:59,533 INFO o.f.c.i.l.s.Slf4jLog [main] Successfully validated 2 migrations (execution time 00:00.104s)
2025-05-08 11:56:59,656 INFO o.f.c.i.l.s.Slf4jLog [main] Current version of schema "public": 1
2025-05-08 11:56:59,664 INFO o.f.c.i.l.s.Slf4jLog [main] Schema "public" is up to date. No migration necessary.
2025-05-08 11:56:59,848 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-08 11:56:59,950 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.6.13.Final
2025-05-08 11:57:00,006 INFO o.h.c.i.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
2025-05-08 11:57:00,641 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-08 11:57:00,791 WARN o.h.e.j.d.i.DialectFactoryImpl [main] HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-08 11:57:00,828 INFO o.h.e.j.e.i.JdbcEnvironmentInitiator [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (BorrowServiceHikariPool)']
	Database driver: undefined/unknown
	Database version: 15.12
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-08 11:57:02,195 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-08 11:57:04,541 INFO o.s.o.j.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-08 11:57:05,061 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-08 11:57:05,768 DEBUG c.b.b.c.RestTemplateConfig [main] Creating RestTemplate for Book Service with timeout: 5000ms
2025-05-08 11:57:06,305 INFO o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer [main] Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-05-08 11:57:07,445 INFO o.s.b.a.e.w.EndpointLinksResolver [main] Exposing 2 endpoints beneath base path '/actuator'
2025-05-08 11:57:09,639 INFO o.a.k.c.c.AbstractConfig [main] AdminClientConfig values: 
	auto.include.jmx.reporter = true
	bootstrap.controllers = []
	bootstrap.servers = [localhost:29092]
	client.dns.lookup = use_all_dns_ips
	client.id = borrow-service-admin-0
	connections.max.idle.ms = 300000
	default.api.timeout.ms = 60000
	enable.metrics.push = true
	metadata.max.age.ms = 300000
	metadata.recovery.strategy = none
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.max.ms = 1000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.3]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.3
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS

2025-05-08 11:57:09,847 INFO o.a.k.c.u.AppInfoParser$AppInfo [main] Kafka version: 3.8.1
2025-05-08 11:57:09,848 INFO o.a.k.c.u.AppInfoParser$AppInfo [main] Kafka commitId: 70d6ff42debf7e17
2025-05-08 11:57:09,848 INFO o.a.k.c.u.AppInfoParser$AppInfo [main] Kafka startTimeMs: 1746685629844
2025-05-08 11:57:10,884 INFO o.a.k.c.u.AppInfoParser [kafka-admin-client-thread | borrow-service-admin-0] App info kafka.admin.client for borrow-service-admin-0 unregistered
2025-05-08 11:57:10,891 INFO o.a.k.c.m.Metrics [kafka-admin-client-thread | borrow-service-admin-0] Metrics scheduler closed
2025-05-08 11:57:10,891 INFO o.a.k.c.m.Metrics [kafka-admin-client-thread | borrow-service-admin-0] Closing reporter org.apache.kafka.common.metrics.JmxReporter
2025-05-08 11:57:10,891 INFO o.a.k.c.m.Metrics [kafka-admin-client-thread | borrow-service-admin-0] Metrics reporters closed
2025-05-08 11:57:10,949 INFO o.a.j.l.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8082"]
2025-05-08 11:57:10,964 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port 8082 (http) with context path '/'
2025-05-08 11:57:10,994 INFO o.s.b.StartupInfoLogger [main] Started BorrowServiceApplication in 18.276 seconds (process running for 20.323)
2025-05-08 11:57:11,343 INFO o.a.j.l.DirectJDKLog [RMI TCP Connection(3)-192.168.1.9] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-08 11:57:11,344 INFO o.s.w.s.FrameworkServlet [RMI TCP Connection(3)-192.168.1.9] Initializing Servlet 'dispatcherServlet'
2025-05-08 11:57:11,350 INFO o.s.w.s.FrameworkServlet [RMI TCP Connection(3)-192.168.1.9] Completed initialization in 5 ms
2025-05-08 11:57:19,508 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-1] MATCHING: patternMatch=true
2025-05-08 11:57:19,520 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-1] MATCHING: patternMatch=true
2025-05-08 11:57:19,871 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-2] MATCHING: patternMatch=true
2025-05-08 11:57:19,874 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-2] MATCHING: patternMatch=true
2025-05-08 11:57:19,896 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-3] MATCHING: patternMatch=true
2025-05-08 11:57:19,903 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-3] MATCHING: patternMatch=true
2025-05-08 11:57:19,923 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-5] MATCHING: patternMatch=true
2025-05-08 11:57:19,928 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-2] MATCHING: patternMatch=true
2025-05-08 11:57:19,929 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-5] MATCHING: patternMatch=true
2025-05-08 11:57:19,930 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-2] MATCHING: patternMatch=true
2025-05-08 11:57:19,934 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-6] MATCHING: patternMatch=true
2025-05-08 11:57:19,938 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-6] MATCHING: patternMatch=true
2025-05-08 11:57:20,385 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-7] MATCHING: patternMatch=true
2025-05-08 11:57:20,387 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-7] MATCHING: patternMatch=true
2025-05-08 11:57:20,406 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-8] MATCHING: patternMatch=true
2025-05-08 11:57:20,414 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-8] MATCHING: patternMatch=true
2025-05-08 11:57:20,495 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-9] MATCHING: patternMatch=true
2025-05-08 11:57:20,498 INFO c.b.b.s.JwtAuthenticationFilter [http-nio-8082-exec-9] MATCHING: patternMatch=true
2025-05-08 11:57:31,347 WARN c.z.h.p.PoolBase [RMI TCP Connection(2)-192.168.1.9] BorrowServiceHikariPool - Failed to validate connection org.postgresql.jdbc.PgConnection@39420d59 (This connection has been closed.). Possibly consider using a shorter maxLifetime value.
2025-05-08 11:57:51,357 WARN c.z.h.p.PoolBase [RMI TCP Connection(2)-192.168.1.9] BorrowServiceHikariPool - Failed to validate connection org.postgresql.jdbc.PgConnection@203b98d1 (This connection has been closed.). Possibly consider using a shorter maxLifetime value.
2025-05-08 11:57:51,396 WARN o.s.b.a.h.AbstractHealthIndicator [RMI TCP Connection(2)-192.168.1.9] DataSource health check failed
org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:84)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:342)
	at org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.getProduct(DataSourceHealthIndicator.java:122)
	at org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.doDataSourceHealthCheck(DataSourceHealthIndicator.java:105)
	at org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.doHealthCheck(DataSourceHealthIndicator.java:100)
	at org.springframework.boot.actuate.health.AbstractHealthIndicator.health(AbstractHealthIndicator.java:82)
	at org.springframework.boot.actuate.health.HealthIndicator.getHealth(HealthIndicator.java:37)
	at org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:82)
	at org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:41)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getLoggedHealth(HealthEndpointSupport.java:172)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:145)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getAggregateContribution(HealthEndpointSupport.java:156)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:141)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:110)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:81)
	at org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:76)
	at org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:66)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:281)
	at org.springframework.boot.actuate.endpoint.invoke.reflect.ReflectiveOperationInvoker.invoke(ReflectiveOperationInvoker.java:74)
	at org.springframework.boot.actuate.endpoint.annotation.AbstractDiscoveredOperation.invoke(AbstractDiscoveredOperation.java:60)
	at org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:124)
	at org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:97)
	at java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:814)
	at java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:802)
	at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1472)
	at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1310)
	at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1405)
	at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)
	at java.base/jdk.internal.reflect.GeneratedMethodAccessor46.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at java.rmi/sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:360)
	at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:200)
	at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:197)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:712)
	at java.rmi/sun.rmi.transport.Transport.serviceCall(Transport.java:196)
	at java.rmi/sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:587)
	at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:828)
	at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:705)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)
	at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:704)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.sql.SQLTransientConnectionException: BorrowServiceHikariPool - Connection is not available, request timed out after 40019ms (total=2, active=0, idle=2, waiting=0)
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:686)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:179)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:144)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:127)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:160)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:118)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:81)
	... 47 common frames omitted
Caused by: org.postgresql.util.PSQLException: This connection has been closed.
	at org.postgresql.jdbc.PgConnection.checkClosed(PgConnection.java:1009)
	at org.postgresql.jdbc.PgConnection.setNetworkTimeout(PgConnection.java:1724)
	at com.zaxxer.hikari.pool.PoolBase.setNetworkTimeout(PoolBase.java:562)
	at com.zaxxer.hikari.pool.PoolBase.isConnectionDead(PoolBase.java:169)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:168)
	... 52 common frames omitted
2025-05-08 11:57:51,434 WARN o.s.b.a.h.HealthEndpointSupport [RMI TCP Connection(2)-192.168.1.9] Health contributor org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator (db) took 40089ms to respond
2025-05-08 11:58:48,564 INFO o.s.b.w.e.t.GracefulShutdown [SpringApplicationShutdownHook] Commencing graceful shutdown. Waiting for active requests to complete
2025-05-08 11:58:48,802 INFO o.s.b.w.e.t.GracefulShutdown [tomcat-shutdown] Graceful shutdown complete
2025-05-08 11:58:48,914 INFO o.s.o.j.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-08 11:58:48,967 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] BorrowServiceHikariPool - Shutdown initiated...
2025-05-08 11:58:55,179 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] BorrowServiceHikariPool - Shutdown completed.
